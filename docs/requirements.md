---

## 2. 機能要件

### 2.1 カメラ制御機能

#### FR-CAM-001: カメラキャプチャ
- **優先度**: 高
- **状態**: ✅ 実装済み
- **内容**: OpenCV経由でUSBカメラから映像を取得
- **入力/出力**: デバイスID・解像度・FPS / numpy配列
- **実装**: `web_app/main_webrtc_fixed.py`

#### FR-CAM-002: WebRTCストリーミング
- **優先度**: 高
- **状態**: ✅ 実装済み
- **内容**: aiortc + FastAPI で低遅延映像をブラウザへ送信
- **備考**: camera_controller・shared_frameパターン、sendonly

#### FR-CAM-003: スナップショット撮影
- **優先度**: 中
- **状態**: ✅ 実装済み
- **内容**: JPEGとして保存・一覧表示・ダウンロード
- **API**: POST `/api/camera/snapshot`, GET `/api/camera/snapshots`, GET `/api/camera/snapshot/{filename}`

#### FR-CAM-004: カメラ設定変更
- **優先度**: 中
- **状態**: ✅ 実装済み
- **内容**: 明るさ/コントラスト/彩度/解像度/コーデックを調整
- **API**: GET `/api/camera/controls`, POST `/api/camera/control/{name}/{value}`, POST `/api/camera/resolution`, POST `/api/camera/codec`
- **対応コーデック**: MJPEG, YUYV

#### FR-CAM-005: 物体検出
- **優先度**: 高
- **状態**: ❌ 未実装
- **内容**: 色やテンプレートを使って部品位置を検出し座標を返却

#### FR-CAM-006: 座標キャリブレーション
- **優先度**: 高
- **状態**: ❌ 未実装
- **内容**: カメラ座標とロボット座標の変換行列を計算

---

### 2.2 グリッパー制御機能

#### FR-GRIP-001: サーボON/OFF
- **優先度**: 高
- **状態**: ✅ 実装済み
- **内容**: Modbus経由でサーボ電源を制御
- **API**: POST `/api/gripper/servo/{action}` (on/off)

#### FR-GRIP-002: 原点復帰
- **優先度**: 高
- **状態**: ✅ 実装済み
- **内容**: 原点へ移動し初期化
- **API**: POST `/api/gripper/home`

#### FR-GRIP-003: 位置決め動作
- **優先度**: 高
- **状態**: ✅ 実装済み
- **内容**: ポジション番号(0-63)へ移動し把持/開放
- **API**: POST `/api/gripper/move/{position}`

#### FR-GRIP-004: 状態モニタリング
- **優先度**: 中
- **状態**: ✅ 実装済み
- **内容**: 位置/サーボ状態/アラームを周期取得
- **API**: GET `/api/gripper/status` (UIでは2秒毎ポーリング)

#### FR-GRIP-005: ポジションテーブル管理
- **優先度**: 高
- **状態**: ✅ 実装済み
- **内容**: 64ポジション×7パラメータを保存・編集
- **UI**: 個別編集モード / 一覧表示モード(10件/ページ)
- **API**: GET & POST `/api/gripper/position_table/{position}`

#### FR-GRIP-006: 高レベルAPI
- **優先度**: 中
- **状態**: ❌ 未実装
- **内容**: `grip()`, `release()` などの抽象化

---

### 2.3 3Dプリンター制御機能

#### FR-PRINT-001: 接続確認
- **優先度**: 高 / ❌ 未実装
- **内容**: OctoPrintサーバーへの疎通確認

#### FR-PRINT-002: 状態取得
- **優先度**: 高 / ❌ 未実装
- **内容**: 温度・進捗などの取得

#### FR-PRINT-003: プリント開始
- **優先度**: 高 / ❌ 未実装
- **内容**: 指定Gコードで印刷開始

#### FR-PRINT-004: プリント停止・一時停止
- **優先度**: 中 / ❌ 未実装
- **内容**: 実行中ジョブの制御

#### FR-PRINT-005: 温度制御
- **優先度**: 高 / ❌ 未実装
- **内容**: ノズル/ベッド温度設定

#### FR-PRINT-006: Gコード送信
- **優先度**: 中 / ❌ 未実装
- **内容**: 任意Gコードの送信

#### FR-PRINT-007: ファイルアップロード
- **優先度**: 低 / ❌ 未実装
- **内容**: Gコードのアップロード

---

### 2.4 ディスペンサー制御機能

#### FR-DISP-001: 初期化
- **優先度**: 高 / ❌ 未実装
- **内容**: GPIOピン初期化

#### FR-DISP-002: 吐出制御
- **優先度**: 高 / ❌ 未実装
- **内容**: 指定時間だけ接着剤を吐出

#### FR-DISP-003: パルス吐出
- **優先度**: 中 / ❌ 未実装
- **内容**: パルス制御で微量吐出

#### FR-DISP-004: 状態監視
- **優先度**: 低 / ❌ 未実装
- **内容**: 吐出回数や最終吐出時刻の記録

---

### 2.5 ロボットアーム制御機能

#### FR-ROBOT-001: 接続・初期化
- **優先度**: 高 / ⚠️ 企業ライブラリ確認待ち
- **内容**: コントローラ接続と初期化

#### FR-ROBOT-002: 原点復帰
- **優先度**: 高 / ⚠️ 企業ライブラリ確認待ち
- **内容**: 全軸を原点へ

#### FR-ROBOT-003: 絶対座標移動
- **優先度**: 高 / ⚠️ 企業ライブラリ確認待ち
- **内容**: 指定座標へ移動

#### FR-ROBOT-004: 相対移動
- **優先度**: 中 / ⚠️ 企業ライブラリ確認待ち
- **内容**: 現在位置からの相対移動

#### FR-ROBOT-005: 現在位置取得
- **優先度**: 高 / ⚠️ 企業ライブラリ確認待ち
- **内容**: 各軸位置の取得

#### FR-ROBOT-006: 速度・加速度設定
- **優先度**: 中 / ⚠️ 企業ライブラリ確認待ち
- **内容**: 動作プロファイル設定

#### FR-ROBOT-007: 座標変換
- **優先度**: 高 / ❌ 未実装
- **内容**: カメラ→ロボット座標変換

---

### 2.6 統合制御機能

#### FR-CTRL-001: デバイス初期化
- **優先度**: 高 / ❌ 未実装
- **内容**: 全デバイスの初期化と接続確認

#### FR-CTRL-002: シーケンス実行
- **優先度**: 高 / ❌ 未実装
- **内容**: YAML定義の組立シーケンス実行

#### FR-CTRL-003: エラーハンドリング
- **優先度**: 高 / ❌ 未実装
- **内容**: 異常発生時の回復処理

#### FR-CTRL-004: リトライ機構
- **優先度**: 中 / ❌ 未実装
- **内容**: 失敗タスクの自動リトライ

#### FR-CTRL-005: ログ記録
- **優先度**: 中 / ❌ 未実装
- **内容**: 実行履歴ログの永続化

#### FR-CTRL-006: 状態監視
- **優先度**: 高 / ❌ 未実装
- **内容**: 全デバイス状態の統合監視

---

### 2.7 Webアプリケーション機能

#### FR-WEB-001: ダッシュボード
- **優先度**: 高 / ❌ 未実装
- **内容**: デバイス状態を一覧表示

#### FR-WEB-002: カメラビュー
- **優先度**: 高 / ✅ 実装済み
- **内容**: WebRTC映像, パラメータ調整, スナップショット操作
- **UI配置**: 左70%映像 / 右30%制御パネル（折りたたみ）

#### FR-WEB-003: 手動操作パネル
- **優先度**: 中 / ⚠️ グリッパーのみ実装
- **内容**: グリッパー手動操作、他デバイスは未実装

#### FR-WEB-004: シーケンス管理
- **優先度**: 高 / ❌ 未実装
- **内容**: シーケンス作成/編集/実行

#### FR-WEB-005: ログビューアー
- **優先度**: 低 / ❌ 未実装
- **内容**: 実行ログの閲覧

#### FR-WEB-006: 設定画面
- **優先度**: 中 / ❌ 未実装
- **内容**: システム設定をUIから変更

#### FR-WEB-007: WebSocket通信
- **優先度**: 高 / ❌ 未実装
- **内容**: 状態更新のリアルタイム配信

---

## 3. 非機能要件

### 3.1 性能要件
- **NFR-PERF-001**: カメラFPS 20以上（現状: 640x480@30fps ✅）
- **NFR-PERF-002**: デバイス応答1秒以内（グリッパーで✅）
- **NFR-PERF-003**: Web UIへ2台同時接続（⚠️ 未検証）

### 3.2 信頼性要件
- **NFR-REL-001**: 通信エラー時は最大3回リトライ（❌ 未実装）
- **NFR-REL-002**: 30日分のエラー/タスクログ保存（⚠️ サーバーログのみ）
- **NFR-REL-003**: 設定の永続化と復元（❌ 未実装）

### 3.3 保守性要件
- **NFR-MAIN-001**: コントローラーを独立モジュール化（✅ 達成）
- **NFR-MAIN-002**: 設定YAML化（❌ 未実装, `config/system_config.yaml`予定）
- **NFR-MAIN-003**: 各モジュールにREADME整備（⚠️ 一部のみ）

### 3.4 セキュリティ要件
- **NFR-SEC-001**: OctoPrint APIキーは環境変数管理（❌ 未実装）
- **NFR-SEC-002**: Webアクセスはローカルネットワークへ制限（⚠️ 初期構成のみ）

### 3.5 互換性要件
- **NFR-COMP-001**: Python 3.9+（推奨3.11, ✅ 確認済み）
- **NFR-COMP-002**: Raspberry Pi OS (Bullseye)（✅ 確認済み）
- **NFR-COMP-003**: 最新Chrome/Firefox/EdgeでWebRTC動作（✅ 確認済み）

---

## 4. 制約事項

### 4.1 ハードウェア制約
- Raspberry Pi GPIOは3.3V、グリッパーはModbus RTUのみ対応
- カメラはUSB接続、C922 Pro Webcam (最大2304x1536)
- グリッパー: IAI RCP2-GRSS + PCON-CB @ 38400 baud

### 4.2 ソフトウェア制約
- Python GILの制約 → asyncioベースで整理
- WebRTCはHTTPSまたはlocalhost限定 → 現状はlocalhost/社内LAN

### 4.3 外部依存
- OctoPrintサーバーが稼働していること
- 企業提供のロボット制御ライブラリ入手が前提

---

## 5. 技術スタック

- **言語**: Python 3.9+
- **Webフレームワーク**: FastAPI
- **WebRTC**: aiortc
- **シリアル通信**: minimalmodbus (Modbus RTU)
- **画像処理**: OpenCV
- **カメラ制御**: v4l2-ctl
- **ハードウェア**: Raspberry Pi, C922 Pro Webcam, IAI製グリッパー

---

## 6. API仕様

### カメラAPI
- `GET /api/camera/status` - ステータス取得
- `GET /api/camera/controls` - コントロール一覧
- `POST /api/camera/control/{name}/{value}` - パラメータ設定
- `GET /api/camera/resolutions` - 対応解像度一覧
- `POST /api/camera/resolution` - 解像度変更
- `POST /api/camera/codec` - コーデック変更
- `POST /api/camera/snapshot` - スナップショット撮影
- `GET /api/camera/snapshots` - スナップショット一覧

### グリッパーAPI
- `GET /api/gripper/status` - ステータス取得
- `POST /api/gripper/servo/{action}` - サーボON/OFF
- `POST /api/gripper/home` - 原点復帰
- `POST /api/gripper/move/{position}` - ポジション移動
- `GET /api/gripper/position_table/{position}` - ポジションデータ取得
- `POST /api/gripper/position_table/{position}` - ポジションデータ設定

### WebRTC API
- `POST /api/webrtc/offer` - WebRTC接続確立

---

## 7. 現在の実装状況

### 7.1 実装済み
- ✅ WebRTCカメラストリーミング（shared_frameパターン）
- ✅ カメラパラメータ調整・解像度/コーデック切替
- ✅ スナップショット撮影・一覧・DL
- ✅ グリッパー制御（サーボ/原点復帰/ポジション移動）
- ✅ グリッパー状態監視（位置・サーボ・アラーム）
- ✅ ポジションテーブル管理（64ポジション×7パラメータ、個別＋一覧UI）
- ✅ Web UI（左右パネル構成と折りたたみパネル）

### 7.2 今後の課題
- ❌ 3Dプリンター制御（OctoPrint連携）
- ❌ ディスペンサー制御
- ❌ ロボットアーム制御（企業ライブラリ待ち）
- ❌ 物体検出・座標変換
- ❌ 統合シーケンス実行エンジン
- ❌ WebSocketによるリアルタイム更新
- ❌ 設定ファイル管理（YAML）
- ❌ ログビューアー

---

## 8. アクセス / 運用情報
- **Web UI**: http://10.32.77.150:8000
- **サーバープロセス**: `nohup` で常駐運転
- **ログ出力**: `/tmp/webrtc_running.log`
- **スナップショット保存先**: `web_app/snapshots/`

---

## 9. 将来の拡張

- [ ] ロボットアーム制御の統合
- [ ] ディスペンサー制御の統合
- [ ] 3Dプリンター制御の統合
- [ ] 自動シーケンス実行機能
- [ ] データロギング・分析機能

---

詳細な機能要件・非機能要件は本書に統合済み。追加仕様が発生した場合は本ファイルを更新する。

#### FR-GRIP-002: 原点復帰
- **優先度**: 高
- **状態**: ✅ 実装済み
- **内容**: グリッパーを原点位置に移動

#### FR-GRIP-003: 位置決め動作
- **優先度**: 高
- **状態**: ✅ 実装済み
- **内容**: 指定位置番号へ移動（把持/開放）

#### FR-GRIP-004: 状態モニタリング
- **優先度**: 中
- **状態**: ✅ 実装済み
- **内容**: 現在位置、電流値、荷重データを取得

#### FR-GRIP-005: 高レベルAPI
- **優先度**: 中
- **状態**: ❌ 未実装
- **内容**: `grip()`, `release()` などの直感的なメソッド

---

### 2.3 3Dプリンター制御機能

#### FR-PRINT-001: 接続確認
- **優先度**: 高
- **状態**: ❌ 未実装
- **内容**: OctoPrintサーバーへの接続状態を確認

#### FR-PRINT-002: 状態取得
- **優先度**: 高
- **状態**: ❌ 未実装
- **内容**: プリンター状態（温度、進捗率など）を取得

#### FR-PRINT-003: プリント開始
- **優先度**: 高
- **状態**: ❌ 未実装
- **内容**: 指定Gコードファイルでプリントを開始

#### FR-PRINT-004: プリント停止・一時停止
- **優先度**: 中
- **状態**: ❌ 未実装
- **内容**: 実行中のプリントを制御

#### FR-PRINT-005: 温度制御
- **優先度**: 高
- **状態**: ❌ 未実装
- **内容**: ノズル・ベッド温度を設定

#### FR-PRINT-006: Gコード送信
- **優先度**: 中
- **状態**: ❌ 未実装
- **内容**: 任意のGコードコマンドを送信

#### FR-PRINT-007: ファイルアップロード
- **優先度**: 低
- **状態**: ❌ 未実装
- **内容**: Gコードファイルをアップロード

---

### 2.4 ディスペンサー制御機能

#### FR-DISP-001: 初期化
- **優先度**: 高
- **状態**: ❌ 未実装
- **内容**: GPIOピンを初期化

#### FR-DISP-002: 吐出制御
- **優先度**: 高
- **状態**: ❌ 未実装
- **内容**: 指定時間だけ接着剤を吐出

#### FR-DISP-003: パルス吐出
- **優先度**: 中
- **状態**: ❌ 未実装
- **内容**: パルス動作で精密な量を吐出

#### FR-DISP-004: 状態監視
- **優先度**: 低
- **状態**: ❌ 未実装
- **内容**: 吐出回数、最終吐出時刻などを記録

---

### 2.5 ロボットアーム制御機能

#### FR-ROBOT-001: 接続・初期化
- **優先度**: 高
- **状態**: ⚠️ 企業ライブラリ確認待ち
- **内容**: ロボットコントローラーへ接続

#### FR-ROBOT-002: 原点復帰
- **優先度**: 高
- **状態**: ⚠️ 企業ライブラリ確認待ち
- **内容**: 全軸を原点位置に移動

#### FR-ROBOT-003: 絶対座標移動
- **優先度**: 高
- **状態**: ⚠️ 企業ライブラリ確認待ち
- **内容**: 指定絶対座標へ移動

#### FR-ROBOT-004: 相対移動
- **優先度**: 中
- **状態**: ⚠️ 企業ライブラリ確認待ち
- **内容**: 現在位置から相対的に移動

#### FR-ROBOT-005: 現在位置取得
- **優先度**: 高
- **状態**: ⚠️ 企業ライブラリ確認待ち
- **内容**: 各軸の現在位置を取得

#### FR-ROBOT-006: 速度・加速度設定
- **優先度**: 中
- **状態**: ⚠️ 企業ライブラリ確認待ち
- **内容**: 移動速度と加速度を設定

#### FR-ROBOT-007: 座標変換
- **優先度**: 高
- **状態**: ❌ 未実装
- **内容**: カメラ座標をロボット座標に変換

---

### 2.6 統合制御機能

#### FR-CTRL-001: デバイス初期化
- **優先度**: 高
- **状態**: ❌ 未実装
- **内容**: 全デバイスを初期化し、接続確認

#### FR-CTRL-002: シーケンス実行
- **優先度**: 高
- **状態**: ❌ 未実装
- **内容**: YAMLで定義された組立シーケンスを実行

#### FR-CTRL-003: エラーハンドリング
- **優先度**: 高
- **状態**: ❌ 未実装
- **内容**: デバイスエラー発生時の回復処理

#### FR-CTRL-004: リトライ機構
- **優先度**: 中
- **状態**: ❌ 未実装
- **内容**: 失敗したタスクを自動リトライ

#### FR-CTRL-005: ログ記録
- **優先度**: 中
- **状態**: ❌ 未実装
- **内容**: 全タスクの実行履歴をログファイルに記録

#### FR-CTRL-006: 状態監視
- **優先度**: 高
- **状態**: ❌ 未実装
- **内容**: 全デバイスの状態をリアルタイムで取得

---

### 2.7 Webアプリケーション機能

#### FR-WEB-001: ダッシュボード
- **優先度**: 高
- **状態**: ❌ 未実装
- **内容**: 全デバイスの状態を一覧表示

#### FR-WEB-002: カメラビュー
- **優先度**: 高
- **状態**: ✅ 実装済み（単体）
- **内容**: リアルタイム映像を表示

#### FR-WEB-003: 手動操作パネル
- **優先度**: 中
- **状態**: ❌ 未実装
- **内容**: 各デバイスを手動で操作

#### FR-WEB-004: シーケンス管理
- **優先度**: 高
- **状態**: ❌ 未実装
- **内容**: シーケンスの作成、編集、実行

#### FR-WEB-005: ログビューアー
- **優先度**: 低
- **状態**: ❌ 未実装
- **内容**: 実行ログをWeb上で閲覧

#### FR-WEB-006: 設定画面
- **優先度**: 中
- **状態**: ❌ 未実装
- **内容**: システム設定の変更

#### FR-WEB-007: WebSocket通信
- **優先度**: 高
- **状態**: ❌ 未実装
- **内容**: リアルタイム状態更新

---

## 3. 非機能要件

### 3.1 性能要件

#### NFR-PERF-001: カメラフレームレート
- **要件**: 最低20 FPS以上でストリーミング
- **測定**: WebRTCストリーム表示時のFPS

#### NFR-PERF-002: 応答時間
- **要件**: デバイスコマンド送信から応答まで1秒以内
- **例外**: 移動完了待ちなど時間のかかる動作は除く

#### NFR-PERF-003: 同時接続
- **要件**: Web UIに最低2台のブラウザから同時接続可能

---

### 3.2 信頼性要件

#### NFR-REL-001: エラー回復
- **要件**: デバイス通信エラー発生時、自動で再接続を試みる
- **リトライ**: 最大3回まで

#### NFR-REL-002: ログ保存
- **要件**: すべてのエラーとタスク実行履歴をログファイルに記録
- **保存期間**: 最低30日間

#### NFR-REL-003: 状態保存
- **要件**: システム再起動時、前回の設定を復元

---

### 3.3 保守性要件

#### NFR-MAIN-001: モジュール独立性
- **要件**: 各デバイスコントローラーは独立して動作可能
- **理由**: テスト・デバッグの容易性

#### NFR-MAIN-002: 設定ファイル
- **要件**: ハードコードせず、YAMLファイルで設定管理
- **場所**: `config/system_config.yaml`

#### NFR-MAIN-003: ドキュメント
- **要件**: 各モジュールにREADME.mdを添付
- **内容**: 使用方法、API仕様、サンプルコード

---

### 3.4 セキュリティ要件

#### NFR-SEC-001: API認証
- **要件**: OctoPrint APIキーは環境変数で管理
- **禁止**: APIキーのハードコードやGitコミット

#### NFR-SEC-002: アクセス制限
- **要件**: Webアプリケーションへのアクセスをローカルネットワークに制限
- **方法**: ファイアウォール設定

---

### 3.5 互換性要件

#### NFR-COMP-001: Python環境
- **要件**: Python 3.9以上で動作
- **推奨**: Python 3.11

#### NFR-COMP-002: OS
- **要件**: Raspberry Pi OS (Debian系) で動作
- **テスト**: Raspberry Pi 4 Model B 以上

#### NFR-COMP-003: ブラウザ
- **要件**: Chrome、Firefox、Edge の最新版で動作

---

## 4. 制約事項

### 4.1 ハードウェア制約
- Raspberry Pi のGPIO電圧は3.3V
- グリッパーはModbus RTU通信のみ対応
- カメラはUSB接続またはCSI接続

### 4.2 ソフトウェア制約
- PythonのGILによる並行処理の制限
- WebRTCはHTTPSまたはlocalhostでのみ動作

### 4.3 外部依存
- OctoPrintサーバーが稼働していること
- 企業提供のロボット制御ライブラリが必要

---

## 5. ユーザーストーリー

### US-001: 基本組立シーケンスの実行
**As a** オペレーター  
**I want to** Webブラウザから組立シーケンスを開始  
**So that** 手作業なしで自動組立できる

**受け入れ基準**:
- [ ] Web UIでシーケンスファイルを選択できる
- [ ] 「開始」ボタンでシーケンスが実行される
- [ ] 実行中の進捗が表示される
- [ ] エラー発生時、適切なメッセージが表示される

---

### US-002: カメラで部品位置を確認
**As a** オペレーター  
**I want to** リアルタイム映像を見ながら部品位置を確認  
**So that** ロボットの動作を調整できる

**受け入れ基準**:
- [ ] Web UIでカメラ映像が表示される
- [ ] 検出された部品に枠が表示される
- [ ] 座標値が数値で表示される

---

### US-003: 手動でロボットを操作
**As a** エンジニア  
**I want to** Web UIからロボットを手動操作  
**So that** 動作確認やキャリブレーションができる

**受け入れ基準**:
- [ ] X/Y/Z軸の移動ボタンがある
- [ ] グリッパーの開閉ボタンがある
- [ ] 現在座標が表示される

---

### US-004: プリント完了後に自動で部品を取り出す
**As a** システム  
**I want to** プリント完了を検知して自動で次の処理を開始  
**So that** 無人運転が可能になる

**受け入れ基準**:
- [ ] OctoPrintからプリント完了イベントを受信
- [ ] カメラで部品位置を検出
- [ ] ロボットで部品をピックアップ

---

## 6. 優先順位付けとマイルストーン

### マイルストーン1: 基盤整備（Week 1）
- [ ] プロジェクト構造整理
- [ ] requirements.txt 作成
- [ ] 基本ドキュメント整備
- [ ] 開発環境セットアップ

### マイルストーン2: コア機能実装（Week 2-3）
- [ ] 3Dプリンター制御モジュール
- [ ] ディスペンサー制御モジュール
- [ ] 画像処理アルゴリズム
- [ ] ロボットアーム統合（企業ライブラリ確認後）

### マイルストーン3: 統合制御（Week 4）
- [ ] AssemblyController実装
- [ ] シーケンスエンジン実装
- [ ] 設定管理システム
- [ ] ログ・エラーハンドリング

### マイルストーン4: Webアプリ（Week 5-6）
- [ ] FastAPIバックエンド
- [ ] REST API設計
- [ ] WebSocket通信
- [ ] フロントエンドUI

### マイルストーン5: テスト・デバッグ（Week 7-8）
- [ ] ユニットテスト
- [ ] 統合テスト
- [ ] 実機デバッグ
- [ ] ドキュメント完成

---

## 7. リスク管理

| リスク | 影響度 | 発生確率 | 対策 |
|-------|-------|---------|------|
| 企業ライブラリの仕様不明 | 高 | 中 | 早期にユーザーへ確認依頼 |
| ディスペンサー仕様不明 | 中 | 中 | GPIO制御の汎用実装を先行 |
| カメラ精度不足 | 高 | 低 | 照明条件の最適化、複数カメラ検討 |
| リアルタイム性不足 | 中 | 中 | 非同期処理の活用、マルチプロセス検討 |
| OctoPrint接続トラブル | 中 | 低 | エラーハンドリング強化 |

---

## 8. 承認事項

### ユーザーへの確認事項
1. **ロボット制御ライブラリの情報提供** ⚠️ 最優先
2. ディスペンサーの型番と仕様
3. OctoPrintのアクセス情報
4. Raspberry Pi 2台の役割分担
5. 最優先で実装すべき機能の確認

### 次のアクション
- [ ] ユーザーからの情報収集
- [ ] 実装計画の策定（`docs/tasks.md`）
- [ ] 開発環境のセットアップ

---

**作成者**: GitHub Copilot  
**レビュー**: 未  
**承認**: 未
